<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Форма обращения пользователей</title>
    <link rel="stylesheet" href="./dist/">
</head>
<body>
    <div class="container">
        <h1>Форма обращения пользователей</h1>
        <main>
            <form action="/processing" method="post">
                <div class="form-group">
                    <label for="first-name">Имя</label>
                    <input id="first-name" type="text">
                </div>
                <div class="form-group">
                    <label for="last-name">Фамилия</label>
                    <input id="last-name" type="text">
                </div>
                <div class="form-group">
                    <label for="middle-name">Отчество</label>
                    <input id="middle-name" type="text">
                </div>
                <div class="form-group">
                    <label for="telephone">Телефон</label>
                    <input id="telephone" type="tel" maxlength="10">
                </div>
                <div class="form-group">
                    <label for="appeal">Обращение</label>
                    <textarea name="appeal" id="appeal" cols="30" rows="10"></textarea>
                </div>
                <button class="btn-submit" type="submit">Отправить</button>
            </form>
        </main>
    </div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        const allInput = document.getElementsByTagName('input')
        const btnSubmit = document.querySelector('.btn-submit')
        const firstName = document.getElementById('first-name')
        const lastName = document.getElementById('last-name')
        const middleName = document.getElementById('middle-name')
        const telephone = document.getElementById('telephone')
        const appeal = document.getElementById('appeal')

        btnSubmit.addEventListener('click', function sendData(event) {
            event.preventDefault()
            data = JSON.stringify({
                firstName: firstName.value,
                lastName: lastName.value,
                middleName: middleName.value,
                telephone: telephone.value,
                appeal: appeal.value
            })
            console.log(data)
            axios.post('http://127.0.0.1:8888/processing', data)
        })
    </script>
</body>
</html>